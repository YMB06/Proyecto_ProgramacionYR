<html xmlns="http://www.thymeleaf.org" 
layout:decorate="admin/layout/base">
<main layout:fragment="content" class="container-fluid flex-grow-1 p-4" style="margin-left: 250px;">
    <h1>Editar Cliente</h1>
    
    <form th:action="@{/admin/clientes/editar/{id}(id=${cliente.id})}" th:object="${cliente}" method="post">
        <input type="hidden" th:field="*{id}"/>
        
        <div class="form-group mb-3">
            <label for="nombre">Nombre:</label>
            <input type="text" th:field="*{nombre}" id="nombre" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="apellidos">Apellidos:</label>
            <input type="text" th:field="*{apellidos}" id="apellidos" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="email">Email:</label>
            <input type="email" th:field="*{email}" id="email" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="telefono">Teléfono:</label>
            <input type="text" th:field="*{telefono}" id="telefono" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="dni">DNI:</label>
            <input type="text" th:field="*{dni}" id="dni" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="username">Nombre de Usuario:</label>
            <input type="text" th:field="*{username}" id="username" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="password">Contraseña:</label>
            <input type="password" th:field="*{password}" id="password" class="form-control" 
                   placeholder="Dejar en blanco para mantener la contraseña actual">
        </div>

        <div class="form-group mb-3">
            <label for="role">Rol:</label>
            <select th:field="*{role}" id="role" class="form-control" required>
                <option value="ROLE_USER">Usuario</option>
                <option value="ROLE_ADMIN">Administrador</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        <a th:href="@{/admin/clientes}" class="btn btn-secondary">Cancelar</a>
    </form>

    <div th:if="${error}" class="alert alert-danger mt-3" th:text="${error}"></div>
</main>
</html>